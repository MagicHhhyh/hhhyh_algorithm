```c++
<template int P=131>
struct node
{
    int len;
    int h;
    int sh;
    node operator+(const node &b)
    {
        node c;
        c.h=( h*p[b.len]+b.h)%mod;
        c.sh=(b.sh*p[len]+sh)%mod;
    }
    void op(int x)
    {
       h=x;
       sh=x;
    }
};
```

